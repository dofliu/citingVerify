# 學術論文參考文獻驗證系統開發規劃

## 專案概述
開發一個網頁系統，能夠自動驗證學術論文的參考文獻真實性，防止學術造假。

## 系統架構規劃

### 前端 (Frontend)
- **技術選擇**: React.js + TypeScript
- **UI框架**: (尚未決定)
- **文件上傳**: (使用原生 input)

### 後端 (Backend)
- **主要框架**: Python + FastAPI
- **資料庫**: PostgreSQL (主要) + Redis (快取)
- **文件處理**: PyPDF2
- **參考文獻解析**: **Google Gemini API** (取代傳統規則引擎)
- **API整合**: (下一步) DOI CrossRef API, Google Scholar API

### 雲端服務
- **部署**: (尚未進行)
- **文件儲存**: (尚未進行)

## 開發階段規劃

## 第一階段：基礎架構建置 (2-3週) - ✅ 已完成

### 1.1 專案初始化
- [x] 建立 Git Repository
- [x] 選定技術棧並建立專案結構 (Python/FastAPI + React/TS)
- [x] 設定開發環境 (Docker, Docker Compose)
- [x] 建立基本的前後端專案框架

### 1.2 資料庫設計
- [x] 設計資料表結構 (`papers` - 基礎模型已建立)
- [ ] 建立資料庫 Migration 腳本
- [x] 設定資料庫連線

### 1.3 基礎API架構
- [x] 建立基本路由結構 (`/`, `/papers/`, `/uploadfile/`)
- [x] 實作檔案上傳端點
- [x] 建立錯誤處理機制 (CORS, 基本錯誤回傳)
- [ ] 設定日誌系統

## 第二階段：文件解析功能 (3-4週) - ✅ 已完成

### 2.1 PDF文件處理
- [x] 實作PDF文字擷取功能
- [x] 開發參考文獻章節識別演算法

### 2.2 DOI整合
- [ ] (移至第三階段)

### 2.3 參考文獻解析
- [x] 開發多種引用格式解析器
- [x] ~~建立正規表達式解析引擎~~ -> **策略升級: 已改用 Gemini AI Engine**
- [x] 實作作者、標題、期刊、年份、出處擷取 (透過 Gemini AI)
- [x] 處理特殊字符和格式變異 (透過 Gemini AI)

## 第三階段：驗證核心引擎 (4-5週) - ⏳ 進行中

### 3.1 搜尋引擎整合
- [ ] 整合 CrossRef API
- [ ] 整合 Google Scholar API (或替代方案)
- [ ] 整合 Semantic Scholar API
- [ ] 建立搜尋策略和優先順序

### 3.2 驗證演算法開發
- [ ] 建立文獻匹配演算法
- [x] 實作可信度評分系統

### 3.3 批次處理系統
- [x] 實作並行驗證處理 (asyncio.gather)
- [ ] 建立任務隊列 (Celery / Redis Queue)
- [ ] 建立進度追踪機制
- [ ] 實作API rate limit 處理

## 第四階段：使用者介面開發 (3-4週)

### 4.1 主要頁面開發
- [ ] 首頁和系統介紹
- [x] 文件上傳介面 (基本功能已完成)
- [ ] DOI輸入介面
- [ ] 驗證進度顯示頁面

### 4.2 結果展示功能
- [ ] 統計圖表展示
- [x] 詳細結果列表 (已顯示解析結果)
- [x] 文獻真實性標記 (綠色/黃色/紅色)
- [ ] 可疑文獻詳細說明

### 4.3 用戶體驗優化
- [ ] 響應式設計
- [x] 載入動畫和進度條 (基本功能已完成)
- [x] 錯誤訊息友善化 (基本功能已完成)
- [x] 結果匯出功能 (PDF)

---
(後續階段維持不變)
---

## 技術挑戰與解決方案

### 挑戰1：不同引用格式的解析
**解決方案**: 
- **[✅ 已採納]** ~~使用機器學習模型輔助格式識別~~ -> **直接使用大型語言模型 (Google Gemini) 進行解析，準確率與彈性更高。**
- ~~建立引用格式模板庫~~
- ~~實作模糊比對演算法~~

### 挑戰2：API速率限制
**解決方案**:
- 實作智能延遲機制
- 使用多個API來源
- 建立本地快取減少API呼叫

### 挑戰3：文獻相似度判斷
**解決方案**:
- 結合多種相似度演算法
- 建立人工標註的訓練資料集
- 實作機器學習分類器

### 挑戰4：處理大量文獻的效能
**解決方案**:
- [x] 實作非同步處理機制 (asyncio.gather)
- 使用資料庫索引優化
- 採用分散式處理架構

---

## 立即開始步驟

1. **[✅] 確定技術棧**: Python + FastAPI + React
2. **[✅] 建立開發環境**: Docker + PostgreSQL + Redis
3. **[✅] 申請API金鑰**: **已設定 Gemini API 金鑰**
4. **[✅] 建立MVP**: 已完成基本PDF解析和**AI剖析**
5. **[✅] 尋找測試資料**: 已使用多種中英文論文進行測試

建議從MVP (最小可行產品) 開始，先實作核心功能，再逐步增加進階特性。
